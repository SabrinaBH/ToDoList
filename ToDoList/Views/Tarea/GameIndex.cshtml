@page "/"

@{
  Layout = "~/Views/Tarea/_Layout.cshtml";
  string uno = "Alta";
  string dos = "Media";
  string tres = "Baja";
}

<html>
<body>
  <div class="row game">
    <div class="columna">
      <div class="encabezado">
        <h2>Pendientes</h2>
        <h4>@ViewBag.Pendientes</h4>
      </div>
      <ul class="list-group sortable" id="listaPendientes">
        @if (ViewBag.Pendientes == 0)
        {
          <div class="sin-tareas">
            <h5>No hay tareas pendientes</h5>
          </div>
        }
        else
        {
          @foreach (var tarea in ViewBag.Tareas)
          {
            if (tarea.Estado == 0)
            {
              <form title="Doble click para ver detalles" type="submit" ondblclick="location.href='@Url.Action("Details", "Tarea", new {id = @tarea.Id})'">
              <li class="col-item list1-item" data-tarea="@tarea.Id">
                <div class="row">
                  <div class="col-item-pendiente">
                    <div class="header-task">
                      <h5 class="list-group-item-heading titulo-task">@tarea.Titulo</h5>
                      <p class="list-group-item-text category-task">
                          @foreach (var categoria in ViewBag.Categorias)
                          {
                            if (tarea.Categoria == categoria.Id)
                            {
                              @categoria.Nombre
                            }
                          }
                      </p>
                    </div>
                    <div class="task-details">
                      <p class="list-group-item-text dificultad">
                          @for (int i = 0; i < tarea.Dificultad; ++i)
                          {
                          <img src="/Images/red-star.png" alt="Foto de usuario" class="star-img">
                          }
                      </p>
                      <p class="list-group-item-text prioridad">
                          @if (tarea.Prioridad == 1)
                          {
                            @uno
                          }
                          else
                          {
                            if (tarea.Prioridad == 2)
                            {
                              @dos
                            }
                            else
                            {
                              @tres
                            }
                          }
                      </p>
                    </div>
                  </div>
                </div>
              </li>
              </form>
            }
          }
        }
      </ul>
    </div>
    <div class="columna">
      <div class="encabezado">
        <h2>Terminados</h2>
        <h4>@ViewBag.Terminados</h4>
      </div>
      <ul class="list-group sortable" id="listaTerminados">
        @if (ViewBag.Terminados == 0)
        {
          <div class="sin-tareas">
            <h5>No hay tareas terminadas</h5>
          </div>
        }
        else
        {
          @foreach (var tarea in ViewBag.Tareas)
          {
            if (tarea.Estado == 2)
            {
              <form title="Doble click para ver detalles" type="submit" ondblclick="location.href='@Url.Action("Details", "Tarea", new {id = @tarea.Id})'">
              <li class="col-item list3-item" data-tarea="@tarea.Id">
                <div class="row">
                  <div class="col-item-terminado">
                    <div class="header-task">
                      <h5 class="list-group-item-heading titulo-task">@tarea.Titulo</h5>
                      <p class="list-group-item-text category-task">
                          @foreach (var categoria in ViewBag.Categorias)
                          {
                            if (tarea.Categoria == categoria.Id)
                            {
                              @categoria.Nombre
                            }
                          }
                      </p>
                    </div>
                    <div class="task-details">
                      <p class="list-group-item-text dificultad">
                          @for (int i = 0; i < tarea.Dificultad; ++i)
                          {
                          <img src="/Images/red-star.png" alt="Foto de usuario" class="star-img">
                          }
                      </p>
                      <p class="list-group-item-text prioridad">
                          @if (tarea.Prioridad == 1)
                          {
                            @uno
                          }
                          else
                          {
                            if (tarea.Prioridad == 2)
                            {
                              @dos
                            }
                            else
                            {
                              @tres
                            }
                          }
                      </p>
                    </div>
                  </div>
                </div>
              </li>
              </form>
            }
            else if (tarea.Estado == 0)
            {

            }
          }
        }
      </ul>
    </div>
  </div>
</body>
</html>


